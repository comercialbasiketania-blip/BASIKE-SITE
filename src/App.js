
import React, { useState } from 'react';
import './index.css';
const CATEGORIES = [
  "Fones de ouvido",
  "Power Banks",
  "Projetores",
  "Caixas de Som",
  "Câmeras de Segurança",
  "Câmeras Filmadoras",
  "Smartwatches",
];
function gerarProtocolo(){const prefix = "BSK";const random = Math.floor(Math.random()*900000+100000);return `${prefix}-${random}`;}
export default function App(){const [step,setStep]=useState('home');const [form,setForm]=useState({nome:'',cpf:'',whatsapp:'',categoria:CATEGORIES[0],modelo:'',pedido:'',descricao:'',files:[]});const [protocolo,setProtocolo]=useState(null);const [status,setStatus]=useState({});function handleChange(e){const{name,value}=e.target;setForm(s=>({...s,[name]:value}));}function handleFiles(e){const files=Array.from(e.target.files).slice(0,4);setForm(s=>({...s,files}));}function enviar(){if(!form.nome||!form.whatsapp||!form.descricao){alert('Preencha nome, WhatsApp e descrição do problema.');return;}const p=gerarProtocolo();setProtocolo(p);const now=new Date().toLocaleString();setStatus(s=>({...s,[p]:{status:'Recebido',updated:now}}));const waNumber='5511965271268';const msg=encodeURIComponent(`Suporte Basike - Novo protocolo: ${p}\nNome: ${form.nome}\nCPF: ${form.cpf}\nWhatsApp: ${form.whatsapp}\nCategoria: ${form.categoria}\nModelo: ${form.modelo}\nPedido: ${form.pedido}\nDescrição: ${form.descricao}\n(Anexos enviados no painel)`);const waUrl=`https://wa.me/${waNumber}?text=${msg}`;window.open(waUrl,'_blank');setStep('confirm');}function consultarProtocolo(p){if(!p) return '';const s=status[p];if(!s) return 'Protocolo não encontrado.';return `${s.status} — Última atualização: ${s.updated}`;}return (<div className="container"><header className="header"><div className="logo"><img src="/logo.png" alt="Basike" style={{width:48,height:48,objectFit:'contain'}}/></div><div><h1>Central de Suporte Basike</h1><div style={{fontSize:13}}>Central de Suporte Basike — fale conosco, abra trocas e tire dúvidas</div></div></header>{step==='home'&&(<main><div className="card"><h2 style={{margin:0}}>Como funciona</h2><p style={{marginTop:8}}>Preencha o formulário com as informações do pedido e envie fotos ou vídeos do produto. Nossa equipe técnica irá analisar e responder via WhatsApp.</p><div style={{marginTop:12}} className="grid"><button className="btn" onClick={()=>setStep('form')}>Solicitar Troca / Garantia</button><button className="btn" onClick={()=>setStep('faq')}>Dúvidas Frequentes</button><button className="btn" onClick={()=>setStep('consult')}>Acompanhar Solicitação</button></div></div><div className="card" style={{marginTop:12}}><h3 style={{margin:0}}>Categorias rápidas</h3><div className="grid" style={{marginTop:12}}>{CATEGORIES.map(c=> (<div key={c} className="card" style={{textAlign:'center'}}><div style={{fontWeight:700}}>{c}</div></div>))}</div></div></main>)}{step==='form'&&(<section className="card" style={{marginTop:12}}><h2>Solicitar Troca / Garantia</h2><div style={{marginTop:12}} className="grid"><div><label style={{fontSize:13}}>Nome completo</label><input name="nome" value={form.nome} onChange={handleChange} className="input" /></div><div><label style={{fontSize:13}}>CPF</label><input name="cpf" value={form.cpf} onChange={handleChange} className="input" /></div><div><label style={{fontSize:13}}>WhatsApp</label><input name="whatsapp" value={form.whatsapp} onChange={handleChange} className="input" placeholder="(11) 9xxxx-xxxx" /></div><div><label style={{fontSize:13}}>Número do pedido (opcional)</label><input name="pedido" value={form.pedido} onChange={handleChange} className="input" /></div><div><label style={{fontSize:13}}>Categoria</label><select name="categoria" value={form.categoria} onChange={handleChange} className="input">{CATEGORIES.map(c=> <option key={c}>{c}</option>)}</select></div><div><label style={{fontSize:13}}>Modelo / Código</label><input name="modelo" value={form.modelo} onChange={handleChange} className="input" /></div><div style={{gridColumn:'1 / -1'}}><label style={{fontSize:13}}>Descrição do problema</label><textarea name="descricao" value={form.descricao} onChange={handleChange} rows={4} className="input"></textarea></div><div style={{gridColumn:'1 / -1'}}><label style={{fontSize:13}}>Fotos / Vídeo (até 4)</label><input type="file" accept="image/*,video/*" multiple onChange={handleFiles} /><div style={{marginTop:8}}>{form.files.map((f,i)=>(<span key={i} style={{display:'inline-block',padding:'6px 8px',marginRight:6,background:'#f3f4f6',borderRadius:6,fontSize:12}}>{f.name}</span>))}</div></div><div style={{gridColumn:'1 / -1',display:'flex',gap:8}}><button className="btn" onClick={enviar}>Enviar Solicitação</button><button className="btn" style={{background:'#ddd',color:'#000'}} onClick={()=>setStep('home')}>Cancelar</button></div></div></section>)}{step==='confirm'&&(<section className="card" style={{marginTop:12}}><h2>Solicitação enviada</h2><p>Seu protocolo foi criado com sucesso.</p><div style={{marginTop:12}} className="card"><div style={{fontWeight:700}}>Protocolo:</div><div style={{color:'#FF6600',fontWeight:800,fontSize:18}}>{protocolo}</div><p style={{marginTop:8,fontSize:13}}>Nossa equipe entrará em contato pelo WhatsApp informado.</p></div><div style={{marginTop:12}}><button className="btn" onClick={()=>setStep('consult')}>Acompanhar Solicitação</button><button className="btn" style={{background:'#ddd',color:'#000'}} onClick={()=>{setStep('home'); setProtocolo(null);}}>Voltar ao Início</button></div></section>)}{step==='consult'&&(<section className="card" style={{marginTop:12}}><h2>Acompanhar Solicitação</h2><input placeholder="Ex: BSK-123456" className="input" onChange={(e)=>setProtocolo(e.target.value)} /><div style={{marginTop:8}} className="card"><div style={{fontWeight:700}}>Status:</div><div style={{marginTop:6,fontSize:13}}>{consultarProtocolo(protocolo) || 'Insira o protocolo'}</div></div><div style={{marginTop:12}}><button className="btn" onClick={()=>setStep('home')}>Voltar</button></div></section>)}{step==='faq'&&(<section className="card" style={{marginTop:12}}><h2>Dúvidas Frequentes</h2><details className="card"><summary style={{fontWeight:700}}>Meu produto não liga, o que eu faço?</summary><div style={{marginTop:8,fontSize:13}}>Conecte na tomada, teste outro cabo e, se possível, tire fotos do produto e da embalagem e envie pelo nosso formulário.</div></details><details className="card"><summary style={{fontWeight:700}}>Como solicitar garantia?</summary><div style={{marginTop:8,fontSize:13}}>Escolha a opção \"Solicitar Troca / Garantia\", preencha o formulário e envie evidências. O suporte entrará em contato.</div></details><details className="card"><summary style={{fontWeight:700}}>Quanto tempo demora a resposta?</summary><div style={{marginTop:8,fontSize:13}}>Normalmente respondemos em até 2 dias úteis. Em disputas no Mercado Livre, seguimos os prazos da plataforma.</div></details></section>)}<footer className="footer">© Basike — Todos os direitos reservados.</footer></div>);}